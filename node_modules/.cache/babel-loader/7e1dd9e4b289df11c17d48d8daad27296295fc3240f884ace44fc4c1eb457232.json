{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMutex = void 0;\nconst tslib_1 = require(\"tslib\");\nconst getMutex = () => {\n  const DEFAULT_ID = Symbol();\n  const locks = {};\n  return function () {\n    for (var _len = arguments.length, args_1 = new Array(_len), _key = 0; _key < _len; _key++) {\n      args_1[_key] = arguments[_key];\n    }\n    return tslib_1.__awaiter(void 0, [...args_1], void 0, function () {\n      let lockId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_ID;\n      return function* () {\n        while (locks[lockId]) {\n          yield locks[lockId];\n        }\n        let resolve = () => {};\n        locks[lockId] = new Promise(res => {\n          resolve = res;\n        }).finally(() => {\n          delete locks[lockId];\n        });\n        return resolve;\n      }();\n    });\n  };\n};\nexports.getMutex = getMutex;","map":{"version":3,"names":["Object","defineProperty","exports","value","getMutex","tslib_1","require","DEFAULT_ID","Symbol","locks","_len","arguments","length","args_1","Array","_key","__awaiter","lockId","undefined","resolve","Promise","res","finally"],"sources":["C:/Users/sande/Desktop/react app test/wallet-connect-app/my-wallet-app/node_modules/@trezor/utils/lib/getMutex.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMutex = void 0;\nconst tslib_1 = require(\"tslib\");\nconst getMutex = () => {\n    const DEFAULT_ID = Symbol();\n    const locks = {};\n    return (...args_1) => tslib_1.__awaiter(void 0, [...args_1], void 0, function* (lockId = DEFAULT_ID) {\n        while (locks[lockId]) {\n            yield locks[lockId];\n        }\n        let resolve = () => { };\n        locks[lockId] = new Promise(res => {\n            resolve = res;\n        }).finally(() => {\n            delete locks[lockId];\n        });\n        return resolve;\n    });\n};\nexports.getMutex = getMutex;\n//# sourceMappingURL=getMutex.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,QAAQ,GAAG,KAAK,CAAC;AACzB,MAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,MAAMF,QAAQ,GAAGA,CAAA,KAAM;EACnB,MAAMG,UAAU,GAAGC,MAAM,CAAC,CAAC;EAC3B,MAAMC,KAAK,GAAG,CAAC,CAAC;EAChB,OAAO;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAIC,MAAM,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAANF,MAAM,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAA,OAAKV,OAAO,CAACW,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,GAAGH,MAAM,CAAC,EAAE,KAAK,CAAC,EAAE;MAAA,IAAWI,MAAM,GAAAN,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAO,SAAA,GAAAP,SAAA,MAAGJ,UAAU;MAAA,oBAAE;QACjG,OAAOE,KAAK,CAACQ,MAAM,CAAC,EAAE;UAClB,MAAMR,KAAK,CAACQ,MAAM,CAAC;QACvB;QACA,IAAIE,OAAO,GAAGA,CAAA,KAAM,CAAE,CAAC;QACvBV,KAAK,CAACQ,MAAM,CAAC,GAAG,IAAIG,OAAO,CAACC,GAAG,IAAI;UAC/BF,OAAO,GAAGE,GAAG;QACjB,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM;UACb,OAAOb,KAAK,CAACQ,MAAM,CAAC;QACxB,CAAC,CAAC;QACF,OAAOE,OAAO;MAClB,CAAC;IAAA,EAAC;EAAA;AACN,CAAC;AACDjB,OAAO,CAACE,QAAQ,GAAGA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}